<!-- <form action="/signup">
    <h2>Sign up</h2>
    <label for="email">Email</label>
    <input type="text" name="email" required />
    <div class="email error"></div>
    <label for="password">Password</label>
    <input type="password" name="password" required />
    <div class="password error"></div>
    <button>Sign up</button>
  </form> -->
  <html>
    <head>
      
      <title>Sign Up</title>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="stylesheet" href="./css/main.css">
    
    </head>
    
    <body>
      
      <div class="limiter">
        <div class="container-login100">
          <div class="wrap-login100">
    
    
          <form class="login100-form validate-form">
    
            <span class="login100-form-title p-b-34 p-t-27">
              Sign Up
            </span>
    
            <div class="wrap-input100 validate-input">
              <input class="input100" type="text" name="email" placeholder="Email" required />
             
            <div class="email error"></div>
          </div>
    
          <div class="wrap-input100 validate-input">
            <input class="input100" type="password" name="password" placeholder="Password" required />
    
            <div class="password error"></div>
          </div>
    
          <div class="container-login100-form-btn">
            <button class="login100-form-btn">Signup</button>
            </div>
              </form>
        </div>
      </div>
    </div> 
        

<script>
  const form = document.querySelector('form');
  const emailError=document.querySelector('.email.error');
  const passwordError = document.querySelector('.password.error');

  form.addEventListener('submit', async (e) => {
    e.preventDefault();

    //reset value
    emailError.textContent='';
    passwordError.textContent='';
    
    
    // get values
    const email = form.email.value;
    const password = form.password.value;

    try{
      const res=await fetch('/signup', {
        method: 'POST',
        body: JSON.stringify({email , password}),
        headers:{'Content-Type' : 'application/json'}
      });
      const data= await res.json();
      console.log(data);

      if(data.errors){
        emailError.textContent= data.errors.email;
        passwordError.textContent=data.errors.password;
      }
      if(data.user){
        alert('KAYIT BAÅžARILI');
        location.assign('/');
      }

    }
    catch (err){
      console.log(err);
    }

    console.log(email, password);

  });
</script>

</body>
</html>



















